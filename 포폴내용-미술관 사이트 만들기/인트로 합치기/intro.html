<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>intro</title>
    <link href="css/reset.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/gh/sun-typeface/SUIT@2/fonts/static/woff2/SUIT.css" rel="stylesheet">
        <style>
        /* =========================
        RESET & BASE
        ========================= */
        a{color:inherit; text-decoration:none;}
        img{display:block;}
        html, body{
        width:100%;
        height:100%;
        margin:0;
        font-family:'SUIT', sans-serif;

        /* ✅ 흰 바탕 자체 제거(혹시 보이더라도 흰색 안 나옴) */
        background:#000;

        /* ✅ 바깥(바디) 스크롤은 막고 */
        overflow:hidden;

        /* ✅ 브라우저 바깥 튕김 방지(기본 안전망) */
        overscroll-behavior:none;
        }

        /* =========================
        FIXED HEADER
        ========================= */
        #header{
        position:fixed;
        top:0; left:0;
        width:100%;
        height:60px;
        z-index:1000;
        }

        #header .hd_inner{
        height:60px;
        display:flex;
        justify-content:space-between;
        align-items:center;
        }

        #logo{
        margin-left:372px;
        font-size:16px;
        font-weight:500;
        }

        #gnb{
        width:31px;
        height:21px;
        margin-right:362px;
        }
        #gnb img{width:100%; height:100%;}

        /* =========================
        INTRO WRAP (SCROLL AREA)
        ========================= */
        #intro_wrap{
        height:100vh;
        overflow-y:auto;
        scroll-snap-type:y mandatory;
        scroll-behavior:smooth;

        /* ✅ 여기서 오버스크롤이 발생하니 wrap에 적용이 핵심 */
        overscroll-behavior:contain;

        /* ✅ wrap 뒤 배경이 보일 일이 있으면 이 색이 보이게 */
        background:#000;

        }

        /* 스크롤바 숨김(선택) */
        #intro_wrap::-webkit-scrollbar{width:0; height:0;}

        /* =========================
        INTRO SECTION (공통)
        ========================= */
        .intro_sec{
        width:100%;
        height:100vh;
        position:relative;
        scroll-snap-align:start;
        scroll-snap-stop:always;     /* ✅ 관성 스크롤 중간 멈춤 줄이기 */

        background-repeat:no-repeat;
        background-position:center center;
        background-size:cover;
        }

        /* ✅ padding-top이 높이를 늘려 ‘빈 공간’ 만들지 않게 */
        .intro_inner{
        position:absolute;
        inset:0;                     /* top/right/bottom/left:0 */
        padding-top:60px;
        box-sizing:border-box;
        }

        /* =========================
        INTRO 1 / 2
        ========================= */
        #intro1{
        background-image:url("images/배경1.jpg");
        color:#23463b;
        }
        #intro2{
        background-image:url("images/배경2.jpg");
        color:#2f1818;
        }

        /* =========================
        BUTTONS (기존 스타일 유지)
        ========================= */
        #move_link,
        #move_link2{
        width:120px;
        height:34px;
        position:absolute;
        top:633px;
        left:50%;
        transform:translateX(-50%);
        }

        #move_link a,
        #move_link2 a{
        display:block;
        width:100%;
        height:100%;
        border:1px solid currentColor;
        border-radius:10px;
        text-align:center;
        line-height:34px;
        font-size:20px;
        font-weight:300;
        }

        #home_link,
        #home_link2{
        width:136px;
        height:20px;
        position:absolute;
        bottom: 84px;
        left:796px;                  /* ✅ 기존 위치 */
        border-bottom:1px solid currentColor;
        }
        
        </style>



</head>
    <script src="script/jquery-3.6.2.min.js" type="text/javascript"></script>
    <script src="script/jquery-ui.min.js" type="text/javascript"></script>
                    <script>
        document.addEventListener("DOMContentLoaded", () => { const MAIN_URL = "../메인페이지/main.html";
        const wrap = document.querySelector("#intro_wrap");
        const sections = Array.from(document.querySelectorAll(".intro_sec"));
        if (!wrap || sections.length === 0) return;

        let current = 0;
        let locked = false;
        let wheelAccum = 0;

        const clamp = (n, min, max) => Math.max(min, Math.min(max, n));

        const setCurrentByScroll = () => {
            const y = wrap.scrollTop + 1; // ✅ 헤더 높이 더/빼지 않음
            let idx = 0;
            for (let i = 0; i < sections.length; i++) {
            if (y >= sections[i].offsetTop) idx = i;
            }
            current = idx;
        };

        const scrollToSection = (idx) => {
            idx = clamp(idx, 0, sections.length - 1);
            current = idx;

            const targetY = sections[idx].offsetTop; // ✅ 핵심: -헤더높이 제거

            locked = true;
            wrap.scrollTo({ top: targetY, behavior: "smooth" });

            setTimeout(() => {
            locked = false;
            wheelAccum = 0;
            setCurrentByScroll();
            }, 900);
        };

        // 초기 정렬
        wrap.scrollTop = 0;
        scrollToSection(0);

        // 휠 한 번 = 한 섹션
        wrap.addEventListener(
        "wheel",
        (e) => {
            if (locked) {
            e.preventDefault();
            return;
            }

            wheelAccum += e.deltaY;
            const THRESHOLD = 90;

            // ⬇️ 아래로 휠
            if (wheelAccum > THRESHOLD) {
            e.preventDefault();

            // ✅ 마지막 섹션(intro2)에서 한 번 더 내리면 메인으로 이동
            if (current === sections.length - 1) {
                window.location.href = MAIN_URL;
                return;
            }

            scrollToSection(current + 1);
            }

            // ⬆️ 위로 휠
            else if (wheelAccum < -THRESHOLD) {
            e.preventDefault();
            scrollToSection(current - 1);
            }
        },
        { passive: false }
        );

        // 드래그/스크롤바로 움직였을 때 current 보정
        wrap.addEventListener("scroll", () => {
            if (locked) return;
            setCurrentByScroll();
        });

        // 앵커 클릭도 섹션 스크롤로
        document.addEventListener("click", (e) => {
            const a = e.target.closest('a[href^="#"]');
            if (!a) return;

            const id = a.getAttribute("href");
            const target = document.querySelector(id);
            if (!target) return;

            e.preventDefault();
            const idx = sections.indexOf(target);
            if (idx !== -1) scrollToSection(idx);
        });

        // 키보드 이동(선택)
        window.addEventListener("keydown", (e) => {
            if (locked) return;

            if (e.key === "ArrowDown" || e.key === "PageDown" || e.key === " ") {
            e.preventDefault();
            scrollToSection(current + 1);
            } else if (e.key === "ArrowUp" || e.key === "PageUp") {
            e.preventDefault();
            scrollToSection(current - 1);
            }
        });

        window.addEventListener("resize", () => {
            if (locked) return;
            scrollToSection(current);
        });
        });
        </script>

        <body>
        <!-- FIXED HEADER -->
        <header id="header">
            <div class="container hd_inner">
            <h1 id="logo">
                <a href="../메인페이지/main.html">광주 시립 미술관 Gwangju Musium of Art</a>
            </h1>

            <nav id="gnb">
                <a href="../상세 네비게이션/navi_page.html">
                <img src="images/햄부거.png" alt="네비게이션 햄버거">
                </a>
            </nav>
            </div>
        </header>

        <!-- SCROLL SNAP WRAP -->
        <main id="intro_wrap">
            <!-- INTRO 1 -->
            <section id="intro1" class="intro_sec intro_section" aria-label="인트로 1">
            <div class="intro_inner">
                <div id="move_link">
                <!-- 버튼: intro2로 스크롤 이동 -->
                <a href="#intro2">보러가기</a>
                </div>

                <div id="home_link">
                <a href="../메인페이지/main.html">홈페이지로 이동하기</a>
                </div>
            </div>
            </section>

            <!-- INTRO 2 -->
            <section id="intro2" class="intro_sec intro_section" aria-label="인트로 2">
            <div class="intro_inner">
                <div id="move_link2">
                <!-- 버튼: 메인으로 이동(원하면 다른 링크로 변경) -->
                <a href="../메인페이지/main.html">보러가기</a>
                </div>

                <div id="home_link2">
                <a href="../메인페이지/main.html">홈페이지로 이동하기</a>
                </div>
            </div>
            </section>
        </main>
        </body>


</html>